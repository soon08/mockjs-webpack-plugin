"use strict";var fs=require("fs"),_require=require("./util"),walk=_require.walk,RE=/^\s*\/\*[*\s]+?([^\r\n]+)[\s\S]+?@url\s+([^\n]+)[\s\S]+?\*\//im;function parseAPIs(e){var n={};return(walk(e)||[]).forEach(function(e){var r=String(fs.readFileSync(e,"utf8")).trim()||"{}",s=e,a="no description",t=r.match(RE);t&&(s=t[2].trim(),a=t[1].replace(/(^[\s*]+|[\s*]+$)/g,"")),"/"!==s[0]&&(s="/"+s);var i=s;-1<i.indexOf("?")&&(i=i.split("?")[0]),n[i]&&console.warn("[Mock Warn]: ["+e+": "+i+"] already exists and has been covered with new data."),n[i]={url:s,filepath:e,describe:a},/\.json$/.test(e)&&(n[i].content=r)}),n}module.exports=parseAPIs;